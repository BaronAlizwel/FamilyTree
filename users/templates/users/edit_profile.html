{% extends 'base_generic.html' %}

{% block content %}
<style>
  .form-group {
    padding-bottom: 1.5rem;
  }
</style>
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-lg p-4 mb-5 bg-white rounded">
        <div class="card-body">
          <h2 class="card-title text-center mb-4">Edit Profile</h2>
          <form method="post" enctype="multipart/form-data" class="needs-validation">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <div class="form-group row">
              <label for="{{ form.username.id_for_label }}" class="col-sm-2 col-form-label">Username</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="{{ form.username.id_for_label }}" name="{{ form.username.html_name }}" value="{{ form.username.value }}" placeholder="{{ form.username.label }}">
                <small class="form-text text-muted">This is your username, and how other users will see you.</small>
                <div class="invalid-feedback">
                  {{ form.username.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="{{ form.email.id_for_label }}" class="col-sm-2 col-form-label">Email</label>
              <div class="col-sm-10">
                <input type="email" class="form-control" id="{{ form.email.id_for_label }}" name="{{ form.email.html_name }}" value="{{ form.email.value }}" placeholder="{{ form.email.label }}">
                <small class="form-text text-muted">This is your email address, and will be used for password recovery.</small>
                <div class="invalid-feedback">
                  {{ form.email.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="{{ form.bio.id_for_label }}" class="col-sm-2 col-form-label">Bio</label>
              <div class="col-sm-10">
                <textarea class="form-control" id="{{ form.bio.id_for_label }}" name="{{ form.bio.html_name }}" placeholder="{{ form.bio.label }}">{{ form.bio.value }}</textarea>
                <small class="form-text text-muted">This is your bio, and will be displayed on your profile page.</small>
                <div class="invalid-feedback">
                  {{ form.bio.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="{{ form.birth_date.id_for_label }}" class="col-sm-2 col-form-label">Birth Date</label>
              <div class="col-sm-10">
                <input type="date" class="form-control" id="{{ form.birth_date.id_for_label }}" name="{{ form.birth_date.html_name }}" value="{{ form.birth_date.value }}" placeholder="{{ form.birth_date.label }}">
                <small class="form-text text-muted">This is your birth date, and will not be displayed on your profile page.</small>
                <div class="invalid-feedback">
                  {{ form.birth_date.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="{{ form.profile_picture.id_for_label }}" class="col-sm-2 col-form-label">Profile Picture</label>
              <div class="col-sm-10">
                <input type="file" class="form-control" id="{{ form.profile_picture.id_for_label }}" name="{{ form.profile_picture.html_name }}">
                <small class="form-text text-muted">This is your profile picture, and will be displayed on your profile page.</small>
                <div class="invalid-feedback">
                  {{ form.profile_picture.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="{{ form.location.id_for_label }}" class="col-sm-2 col-form-label">Location</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="{{ form.location.id_for_label }}" name="{{ form.location.html_name }}" value="{{ form.location.value }}" placeholder="{{ form.location.label }}">
                <small class="form-text text-muted">This is your location, and will be displayed on your profile page.</small>
                <div class="invalid-feedback">
                  {{ form.location.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row form-check">
              <div class="col-sm-10 offset-sm-2">
                <input type="checkbox" class="form-check-input" id="{{ form.is_public.id_for_label }}" name="{{ form.is_public.html_name }}" {% if form.is_public.value %}checked{% endif %}>
                <label class="form-check-label" for="{{ form.is_public.id_for_label }}">Profile Visibility</label>
                <small class="form-text text-muted">This determines whether your profile is visible to other users.</small>
                <div class="invalid-feedback">
                  {{ form.is_public.errors }}
                </div>
              </div>
            </div>

            <div class="form-group row mt-4">
              <div class="col-sm-10 offset-sm-2">
                <button type="submit" class="btn btn-primary mr-2">Save Changes</button>
                <a href="{% url 'profile' %}" class="btn btn-outline-secondary">Cancel</a>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}


{% comment %} 
{% extends 'base_generic.html' %}

{% block content %}
<div class="container py-5">
  <h2 class="text-center mb-4">Edit Profile</h2>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <form method="post" enctype="multipart/form-data" class="needs-validation">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for field in form %}
        <div class="card shadow-lg mb-4 bg-white rounded">
          <div class="card-body">
            <div class="form-group row">
              <label for="{{ field.id_for_label }}" class="col-sm-2 col-form-label">{{ field.label }}</label>
              <div class="col-sm-10">
                {{ field }}
                {% if field.help_text %}
                <small class="form-text text-muted">{{ field.help_text }}</small>
                {% endif %}
                <div class="invalid-feedback">
                  {{ field.errors }}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
        
        <div class="form-group row mt-4">
          <div class="col-sm-10 offset-sm-2">
            <button type="submit" class="btn btn-primary mr-2">Save Changes</button>
            <a href="{% url 'profile' %}" class="btn btn-outline-secondary">Cancel</a>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock %} {% endcomment %}
